
@{
    Layout = null;
    if (Session["userID"] == null)
    {
        Response.Redirect("~/Login/Index");
    }
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>EditJazzEvent</title>
</head>
<body>
    <div id="dialog-form2" title="Update Event">
        <p class="validateTips">All form fields are required.</p>
        <form action="/Management/UpdateJazz" method="post">
            <table>
                @foreach (var eve in Model.jazz)
                {
                    <tr>
                        <td><input type="text" id="TxtEventId" name="EventId" value="@eve.EventId" style="visibility: hidden;"/></td>
                    </tr>
                    <tr>
                        <td>PerformerName</td>
                        @foreach (var perf in Model.performer)
                        {
                            if (eve.PerformerId == perf.PerformerId)
                            {
                                <td><input type="text" id="TxtArtist" name="PerformerName" value="@perf.PerformerName" /></td>
                                <td><input type="text" id="TxtArtist" name="PerformerImagePath" value="@perf.PerformerImagePath" style="visibility: hidden;"/></td>
                                <td><input type="text" id="TxtArtist" name="PerformerInfo" value="@perf.PerformerInfo" style="visibility: hidden;"/></td>
                                <td><input type="text" id="TxtArtist" name="PerformerId" value="@eve.PerformerId" style="visibility: hidden;"/></td>
                            }
                        }
                    </tr>
                    <tr>
                        <td>Start Time</td>
                        <td><input type="time" id="TxtDateStart" name="EventStart" value="@eve.EventStart.TimeOfDay" /></td>
                    </tr>
                    <tr>
                        <td>End Time</td>
                        <td><input type="time" id="TxtDateEnd" name="EventEnd" value="@eve.EventEnd.TimeOfDay" /></td>
                    </tr>
                    <tr>
                        <td>Date</td>
                        <!--moet in 2014-12-29 format-->
                        <td><input type="date" id="TxtDate" name="Date" value="@eve.EventStart.ToString("yyyy-MM-dd")" /></td>
                    </tr>
                    <tr>
                        <td>Location</td>
                        <td><input type="text" id="TxtLocation" name="Location" value="@eve.Location" /></td>
                    </tr>
                    <tr>
                        <td>Venue</td>
                        <td><input type="text" id="TxtHall" name="Hall" value="@eve.Hall" /></td>
                    </tr>
                    <tr>
                        <td>Seats</td>
                        <td><input type="text" id="TxtSeats" name="Seats" value="@eve.Seats" /></td>
                    </tr>
                    <tr>
                        <td>Price</td>
                        <td><input type="text" id ="TxtPrice"name="Price" value="@eve.Price"/></td>
                    </tr>
                    <tr>
                        <td>Comments</td>
                        <td><input type="text" id ="TxtComment"name="Comment" value="@eve.Comment" /></td>
                    </tr>}
            </table>
            <input type="submit" name="BtnSave" value="Create Event" />
        </form>
    </div>
</body>
</html>
